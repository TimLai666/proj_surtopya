time="2026-01-12T17:06:53+08:00" level=warning msg="C:\\Users\\tingzhen\\Documents\\GitHub\\proj_surtopya\\surtopya\\docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.91kB done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/node:20-bookworm
#2 DONE 0.0s

#3 [web internal] load metadata for docker.io/library/node:20-bullseye-slim
#3 DONE 11.8s

#4 [web internal] load .dockerignore
#4 transferring context: 206B done
#4 DONE 0.0s

#5 [web builder  1/15] FROM docker.io/library/node:20-bookworm@sha256:929de1eecc6450613bf37eea2f93f3d362b536a465d74e962488b5eca1168948
#5 resolve docker.io/library/node:20-bookworm@sha256:929de1eecc6450613bf37eea2f93f3d362b536a465d74e962488b5eca1168948 0.0s done
#5 DONE 0.0s

#6 [web builder  2/15] WORKDIR /app
#6 CACHED

#7 [web runner 1/6] FROM docker.io/library/node:20-bullseye-slim@sha256:0b83f89a51084d9f02238def98d7aba39302b1ac2142817501c7dca2fcaac96c
#7 resolve docker.io/library/node:20-bullseye-slim@sha256:0b83f89a51084d9f02238def98d7aba39302b1ac2142817501c7dca2fcaac96c 0.0s done
#7 DONE 0.0s

#8 [web runner 2/6] WORKDIR /app
#8 CACHED

#9 [web internal] load build context
#9 transferring context: 314.54kB 0.0s done
#9 DONE 0.0s

#10 [web builder  3/15] RUN apt-get update &&     apt-get install -y --no-install-recommends python3 build-essential ca-certificates curl &&     rm -rf /var/lib/apt/lists/*
#10 10.77 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#10 20.43 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#10 23.55 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#10 30.33 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8792 kB]
#10 181.3 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
#10 181.4 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [290 kB]
#10 182.7 Fetched 9343 kB in 3min 16s (47.6 kB/s)
#10 182.7 Reading package lists...
#10 183.1 Reading package lists...
#10 183.4 Building dependency tree...
#10 183.5 Reading state information...
#10 183.7 python3 is already the newest version (3.11.2-1+b1).
#10 183.7 python3 set to manually installed.
#10 183.7 ca-certificates is already the newest version (20230311+deb12u1).
#10 183.7 curl is already the newest version (7.88.1-10+deb12u14).
#10 183.7 The following NEW packages will be installed:
#10 183.7   build-essential
#10 184.7 0 upgraded, 1 newly installed, 0 to remove and 53 not upgraded.
#10 184.7 Need to get 7704 B of archives.
#10 184.7 After this operation, 20.5 kB of additional disk space will be used.
#10 184.7 Get:1 http://deb.debian.org/debian bookworm/main amd64 build-essential amd64 12.9 [7704 B]
#10 184.9 debconf: delaying package configuration, since apt-utils is not installed
#10 184.9 Fetched 7704 B in 1s (7130 B/s)
#10 184.9 Selecting previously unselected package build-essential.
#10 184.9 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23257 files and directories currently installed.)
#10 185.0 Preparing to unpack .../build-essential_12.9_amd64.deb ...
#10 185.0 Unpacking build-essential (12.9) ...
#10 185.1 Setting up build-essential (12.9) ...
#10 DONE 185.2s

#11 [web builder  4/15] COPY package*.json ./
#11 DONE 0.1s

#12 [web builder  5/15] RUN npm ci --no-audit --prefer-offline --no-fund --legacy-peer-deps
#12 5.226 npm error code EUSAGE
#12 5.226 npm error
#12 5.226 npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
#12 5.226 npm error
#12 5.226 npm error Missing: lightningcss-linux-x64-gnu@1.30.2 from lock file
#12 5.226 npm error
#12 5.226 npm error Clean install a project
#12 5.226 npm error
#12 5.226 npm error Usage:
#12 5.226 npm error npm ci
#12 5.226 npm error
#12 5.226 npm error Options:
#12 5.226 npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
#12 5.226 npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
#12 5.226 npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
#12 5.226 npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
#12 5.226 npm error [--no-bin-links] [--no-fund] [--dry-run]
#12 5.226 npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
#12 5.226 npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
#12 5.226 npm error
#12 5.226 npm error aliases: clean-install, ic, install-clean, isntall-clean
#12 5.226 npm error
#12 5.226 npm error Run "npm help ci" for more info
#12 5.227 npm notice
#12 5.227 npm notice New major version of npm available! 10.8.2 -> 11.7.0
#12 5.227 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#12 5.227 npm notice To update run: npm install -g npm@11.7.0
#12 5.227 npm notice
#12 5.227 npm error A complete log of this run can be found in: /root/.npm/_logs/2026-01-12T09_10_10_518Z-debug-0.log
#12 ERROR: process "/bin/sh -c npm ci --no-audit --prefer-offline --no-fund --legacy-peer-deps" did not complete successfully: exit code: 1
------
 > [web builder  5/15] RUN npm ci --no-audit --prefer-offline --no-fund --legacy-peer-deps:
5.226 npm error
5.226 npm error aliases: clean-install, ic, install-clean, isntall-clean
5.226 npm error
5.226 npm error Run "npm help ci" for more info
5.227 npm notice
5.227 npm notice New major version of npm available! 10.8.2 -> 11.7.0
5.227 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
5.227 npm notice To update run: npm install -g npm@11.7.0
5.227 npm notice
5.227 npm error A complete log of this run can be found in: /root/.npm/_logs/2026-01-12T09_10_10_518Z-debug-0.log
------
failed to solve: process "/bin/sh -c npm ci --no-audit --prefer-offline --no-fund --legacy-peer-deps" did not complete successfully: exit code: 1
